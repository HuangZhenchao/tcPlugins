这个帮助文件是关于为Total Command编写内容插件的。内容插件有多种用途：用于在文件列表中显示自定义列、用于搜索以及用于多重命名工具。

安装该插件时，Total Commander会调用ContentGetDetectString(如果已实现)，以找出该插件支持的文件类型。
可以由用户手动修改的内容字符串包含/排除某些文件类型。
建议不要使用按内容检查文件的检测字符串，因为 contentgetdetectstring 不能被调用为 delayed，所以它会大大降低文件列表显示的速度。

当Total Commander需要关于特定文件的信息时，它首先解析detect字符串，以确定是否需要为该文件调用插件。
如果是，则循环调用ContentGetSupportedField，枚举所有可用字段。
然后缓存这些信息，因此TC不必为每个文件单独调用该函数。
如果存在与插件同名但扩展名为.lng的语言文件，Total Commander将自动翻译返回的字段名称。

要请求特定文件的字段内容，将调用函数ContentGetValue。


1.创建好的检测字符串非常重要，特别是在插件调用速度慢的情况下！如果你不能做一个好的检测字符串，那么确保你的插件没有任何静态对象被定义为全局变量！这些文件将与DLL一起加载！只在需要的地方在被调用的函数中创建这样的对象！

2.如果与提取字段相比，解析文件的速度非常慢，那么在请求下一个文件名之前缓存给定文件的所有字段可能是合理的。这将使从同一文件请求多个字段的速度更快。
这样的缓存可以通过两个字段来实现，一个名称字段存储要存储该缓存信息的姓氏，以及一个包含所提取的信息的结构。
请注意，如果您的插件返回ft_Delayed，您必须采取措施保护缓存不会同时调用ContentGetValue。这可以使用信号量来完成。

3.ContentSetValue应该只在有意义的地方实现！例如，以各种形式显示文件大小的插件不需要提供此功能，因为通过属性对话框更改文件大小没有任何意义。




ContentGetSupportedField
FieldIndex ：TC请求为其提供信息的字段的索引。从0开始，字段索引将被增加，直到插件返回一个错误。
FieldName：在这里，插件必须返回带有索引FieldIndex的字段的名称。该字段不能包含以下字符：(点)|(垂直线)：(冒号)。您最多可以返回最多个Maxlen字符，包括尾随的0。